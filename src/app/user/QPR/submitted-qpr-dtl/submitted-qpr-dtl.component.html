<div class="main-body">
    <div class="promot_regs">
        <div class="container">
            <div class="prom_reg_in">
                <h3>{{rolename}}</h3>
                <div class="prom_reg_frm">
                    <div class="scru_level">


                        <div class="dev_tabl dev_wrk prev_tabl mb-3 p-0">
                            <div class="personal_view_page stage_dv">
                                <div class="row">
                                    <div class="col-12">
                                        <h5>{{'QPR for Quarter'}} {{quoterName}}</h5>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>{{'Project Registration No.'}} : &nbsp; </label>
                                            <p>{{projectDetails.projectuid}}</p>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>{{'Project Name'}} : &nbsp; </label>
                                            <p>{{projectDetails.projectName}}</p>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>{{'Project Address'}} : &nbsp; </label>
                                            <p>{{projectDetails.projectAddress}}</p>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>{{'Name of Promoter'}} : &nbsp; </label>
                                            <p>{{projectDetails.promoterName}}</p>
                                        </div>
                                    </div>

                                    <!--<div class="col-4">
                <div class="form-group">
                    <label>Name of Co-promoter : </label>
                    <p>{{projectDetails.copromoterName}}</p>
                </div>
            </div>-->


                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>{{'Project Registration is valid up to'}} : &nbsp; </label>
                                            <p>{{projectDetails.validatyenddate}}</p>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>{{'Starting date of Project'}} : &nbsp; </label>
                                            <p>{{projectDetails.projectStartDate}} </p>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>{{'Type of Project'}} : &nbsp;</label>
                                            <p>{{projectDetails.projectType}}</p>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>{{'Period of validity'}} : &nbsp;</label>
                                            <p>{{projectDetails.periodOfValidityDate}}</p>
                                        </div>
                                    </div>

                                    <div class="col-12 text-right">
                                        <!-- <button class="btn btn-dark" (click)="goToProjectDetails()">{{'View Project Details'}}</button> -->
                                    </div>
                                </div>
                            </div>
                        </div>

                      <div class="prom_reg_in" *ngIf="isolddata == 1">
                        <div class="table-responsive">
                          <table class="table table-striped" width="100%" cellspacing="0" cellpadding="0"
                                 border="0">
                            <thead>
                            <tr>
                              <th>{{'Financial Year'}}</th>
                              <th>{{'Quarter'}}</th>
                              <th>{{'Progress Document'}}</th>
                              <th>{{'Project Image 1'}}</th>
                              <th>{{'Project Image 2'}}</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let obj of progressDtl;">
                              <td>{{obj.F_Year}}</td>
                              <td>{{quoterName}}</td>
                              <td><a [href]="FILE_ROOT + obj.Path_quarterly_progressDoc"
                                     target="_blank">
                                <img src="assets/images/pdf-ico.png" alt="" style="height: 80px;"/>
                              </a></td>
                              <td>
                                <a [href]="FILE_ROOT + obj.Path_Project_Image1" target="_blank">
                                  <img style="height: 80px;" [src]="FILE_ROOT + obj.Path_Project_Image1"
                                       alt="" #img (error)="img.src='assets/images/image-ico.png'"/>
                                </a>
                              </td>
                              <td>
                                <a [href]="FILE_ROOT + obj.Path_Project_Image2" target="_blank">
                                  <img style="height: 80px;" [src]="FILE_ROOT + obj.Path_Project_Image2"
                                       alt="" #img2 (error)="img2.src='assets/images/image-ico.png'"/>
                                </a>
                              </td>
                            </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>

                        <div class="prom_reg_in" *ngIf="isolddata == 0">
                            <mat-tab-group dynamicHeight [(selectedIndex)]="selectedTabIndex"
                                (selectedTabChange)="onTabChange($event)">
                                <mat-tab *ngFor="let tab of tabList; let stepPos = index;" label="{{tab}}"
                                    [disabled]="!(selectedTabIndex === stepPos)">
                                    <!-- [disabled]="!(selectedTabIndex === stepPos+1)" -->
                                    <div class="resp-tabs-container hor_1 mb-3">

                                        <!-- Booking Update -->
                                        <div *ngIf="tab == 'Booking Update'">
                                            <div class="add_bldngs">
                                                <h5>{{'Disclosure of Sold/Booked Inventory of Apartments'}}</h5>
                                                <div class="table-responsive">
                                                    <table class="table table-striped" width="100%" cellspacing="0"
                                                        cellpadding="0" border="0">
                                                        <tbody>
                                                            <tr>
                                                                <th width="5%" valign="top" align="left">{{'SL No.'}}
                                                                </th>
                                                                <th width="10%" valign="top" align="left">{{'Building / Block'}}</th>
                                                                <th width="10%" valign="top" align="left">{{'Apartment Type'}}</th>
                                                                <th width="12%" valign="top" align="left">{{'Carpet Area (sq mtr)'}}</th>
                                                                <th width="18%" valign="top" align="left">{{'Total # of sanctioned apartments'}}
                                                                </th>
                                                                <th width="18%" valign="top" align="left">{{'Total No. of units in Promoter Share'}}
                                                                </th>
                                                                <th width="12%" valign="top" align="left">{{'No of Apartments Booked'}}</th>
                                                                <th width="12%" valign="top" align="left">{{'No of Apartments Sold'}}</th>
                                                                <th width="12%" valign="top" align="left">{{'No of Apartments Booked in this quarter'}}</th>
                                                                <th width="12%" valign="top" align="left">{{'No of Apartments Sold in this quarter'}}</th>
                                                            </tr>
                                                            <tr
                                                                *ngFor="let building of inventoryData.building; let i = index;">
                                                                <td valign="top" align="left">{{i + 1}}</td>
                                                                <td valign="top" align="left">{{building.build}}</td>
                                                                <td valign="top" align="left">{{building.utype}}</td>
                                                                <td valign="top" align="left">{{building.care}}</td>
                                                                <td valign="top" align="left">{{building.sapart}}</td>
                                                                <td valign="top" align="left">{{building.sprom}}</td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.bookedunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.berr ? building.berr : ''"
                                                                            [(ngModel)]="building.bookedunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.soldunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.serr ? building.serr : ''"
                                                                            [(ngModel)]="building.soldunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.quarterbookedunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.qberr ? building.qberr : ''"
                                                                            [(ngModel)]="building.quarterbookedunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.quartersoldunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.qserr ? building.qserr : ''"
                                                                            [(ngModel)]="building.quartersoldunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>
                                            <div class="add_bldngs mt-3">
                                                <h5>{{'Disclosure of Sold/Booked Inventory of Shops'}}</h5>
                                                <div class="table-responsive">
                                                    <table class="table table-striped" width="100%" cellspacing="0"
                                                        cellpadding="0" border="0">
                                                        <tbody>
                                                            <tr>
                                                                <th width="5%" valign="top" align="left">{{'SL No.'}}
                                                                </th>
                                                                <th width="10%" valign="top" align="left">{{'Building / Block'}}</th>
                                                                <th width="10%" valign="top" align="left">{{'Shop Type'}}</th>
                                                                <th width="12%" valign="top" align="left">{{'Carpet Area (sq mtr)'}}</th>
                                                                <th width="18%" valign="top" align="left">{{'Total # of sanctioned shops'}}
                                                                </th>
                                                                <th width="18%" valign="top" align="left">{{'Total No. of units in Promoter Share'}}
                                                                </th>
                                                                <th width="12%" valign="top" align="left">{{'No of Shops Booked'}}</th>
                                                                <th width="12%" valign="top" align="left">{{'No of Shops Sold'}}</th>
                                                                <th width="12%" valign="top" align="left">{{'No of Apartments Booked in this quarter'}}</th>
                                                                <th width="12%" valign="top" align="left">{{'No ofApartments Sold in this quarter'}}</th>
                                                            </tr>
                                                            <tr
                                                                *ngFor="let building of inventoryData.commercial; let i = index;">
                                                                <td valign="top" align="left">{{i + 1}}</td>
                                                                <td valign="top" align="left">{{building.build}}</td>
                                                                <td valign="top" align="left">{{building.utype}}</td>
                                                                <td valign="top" align="left">{{building.care}}</td>
                                                                <td valign="top" align="left">{{building.sapart}}</td>
                                                                <td valign="top" align="left">{{building.sprom}}</td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.bookedunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.berr ? building.berr : ''"
                                                                            [(ngModel)]="building.bookedunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.soldunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.serr ? building.serr : ''"
                                                                            [(ngModel)]="building.soldunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.quarterbookedunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.qberr ? building.qberr : ''"
                                                                            [(ngModel)]="building.quarterbookedunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.quartersoldunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.qserr ? building.qserr : ''"
                                                                            [(ngModel)]="building.quartersoldunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>
                                            <div class="add_bldngs mt-3">
                                                <h5>{{'Disclosure of Sold/Booked Inventory of Garages'}}</h5>
                                                <div class="table-responsive">
                                                    <table class="table table-striped" width="100%" cellspacing="0"
                                                        cellpadding="0" border="0">
                                                        <tbody>
                                                            <tr>
                                                                <th width="5%" valign="top" align="left">{{'SL No.'}}
                                                                </th>
                                                                <th width="10%" valign="top" align="left">{{'Building / Block'}}</th>
                                                                <th width="18%" valign="top" align="left">{{'Total # of sanctioned garage'}}
                                                                </th>
                                                                <th width="18%" valign="top" align="left">{{'Total No. of units in Promoter Share'}}
                                                                </th>
                                                                <th width="12%" valign="top" align="left">{{'No of Garages Booked'}}</th>
                                                                <th width="12%" valign="top" align="left">{{'No of Garages Sold'}}</th>
                                                                <th width="12%" valign="top" align="left">{{'No of Garages Booked in this quarter'}}</th>
                                                                <th width="12%" valign="top" align="left">{{'No of Garages Sold in this quarter'}}</th>
                                                            </tr>
                                                            <tr
                                                                *ngFor="let building of inventoryData.garage; let i = index;">
                                                                <td valign="top" align="left">{{i + 1}}</td>
                                                                <td valign="top" align="left">{{building.build}}</td>
                                                                <td valign="top" align="left">{{building.garage}}</td>
                                                                <td valign="top" align="left">{{building.gprom}}</td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.bookedunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.berr ? building.berr : ''"
                                                                            [(ngModel)]="building.bookedunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.soldunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.serr ? building.serr : ''"
                                                                            [(ngModel)]="building.soldunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.quarterbookedunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.qberr ? building.qberr : ''"
                                                                            [(ngModel)]="building.quarterbookedunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{building.quartersoldunit}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            [ngClass]="building.qserr ? building.qserr : ''"
                                                                            [(ngModel)]="building.quartersoldunit"
                                                                            placeholder="Enter"
                                                                            (keydown)="onlyNumber($event)">
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>

                                            <div class="text-right">
                                                <button class="btn btn-primary" [hidden]="selectedTabIndex==0"
                                                    (click)="goToPrevTab()">
                                                    {{'Previous'}}
                                                </button>
                                                <button class="btn btn-success ml-3" *ngIf="isSubmitted"
                                                    (click)="goToNext()">Next</button>
                                            </div>
                                        </div>

                                        <!-- Construction Progress Update-->
                                        <div *ngIf="tab === 'Construction Progress Update'">
                                            <h5>{{'Construction Progress Update'}}</h5>
                                            <div class="radio_buildng">
                                                <mat-radio-group [(ngModel)]="selectedBuilding">
                                                    <mat-radio-button *ngFor="let building of buildingList;"
                                                        value="{{building.buildingName}}"
                                                        (change)="onBuildingChange(building)">{{building.buildingName}}</mat-radio-button>
                                                </mat-radio-group>
                                            </div>

                                            <div class="table-responsive">

                                                <table class="table table-striped" width="100%" cellspacing="0"
                                                    cellpadding="0" border="0">
                                                    <tbody>
                                                        <tr>
                                                            <th width="10%" valign="top" align="left">{{'Construction Stage'}}</th>
                                                            <th width="35%" valign="top" align="left">{{'Task / Activity'}}</th>
                                                            <th width="10%" valign="top" align="left">{{'Planned Completion MM-YYYY'}}</th>
                                                            <th width="10%" valign="top" align="left">{{'% of actual work done'}}</th>
                                                            <th width="20%" valign="top" align="left">{{'Delay if any Ask to fill reason for delay'}}</th>
                                                            <th width="10%" valign="top" align="left">{{'Likely Date of Completion (MM-YYYY)'}}</th>
                                                        </tr>
                                                        <tr *ngFor="let obj of constructionProgressList;">
                                                            <td valign="top" align="left">Stage 1</td>
                                                            <td valign="top" align="left">{{obj.fielddesc}}</td>
                                                            <td valign="top" align="left">{{obj.enddate}}</td>
                                                            <td valign="top" align="left">

                                                                <div *ngIf="isSubmitted">
                                                                    <p class="viewmode-txt">
                                                                        {{obj.work_done}}
                                                                    </p>
                                                                </div>
                                                                <div *ngIf="!isSubmitted">
                                                                    <input type="text" class="form-control"
                                                                        placeholder="80" [(ngModel)]="obj.work_done"
                                                                        [ngClass]="obj.perErr"
                                                                        (keydown)="onlyNumber($event)"
                                                                        (keyup)="validateWorkProgress(obj)">
                                                                </div>

                                                            </td>
                                                            <td valign="top" align="left">
                                                                <div *ngIf="isSubmitted">
                                                                    <p class="viewmode-txt">
                                                                        {{obj.delay_reason ? obj.delay_reason : 'NA'}}
                                                                    </p>
                                                                </div>
                                                                <div *ngIf="!isSubmitted">
                                                                    <textarea class="form-control"
                                                                        placeholder="Enter Reason"
                                                                        [(ngModel)]="obj.delay_reason"
                                                                        [disabled]="obj.isDisable"
                                                                        [ngClass]="obj.resonErr"></textarea>
                                                                </div>
                                                            </td>
                                                            <td valign="top" align="left">

                                                                <div *ngIf="isSubmitted">
                                                                    <p class="viewmode-txt">
                                                                        {{obj.estimate_completion ?
                                                                        obj.estimate_completion : 'NA'}}
                                                                    </p>
                                                                </div>
                                                                <div *ngIf="!isSubmitted" [ngClass]="obj.cmpdErr">
                                                                    <app-calender [dateShow]="obj.estimate_completion"
                                                                        [isFormSubmitted]="obj.isDisable"
                                                                        (dateSelect)="onCustomDateSelect($event, obj)"></app-calender>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="text-right">
                                                <button class="btn btn-primary" [hidden]="selectedTabIndex==0"
                                                    (click)="goToPrevTab()">
                                                    {{'Previous'}}
                                                </button>
                                                <button class="btn btn-success ml-3" *ngIf="isSubmitted"
                                                    (click)="goToNext()">Next</button>
                                            </div>
                                        </div>

                                        <!-- Common Amenities Update -->
                                        <div *ngIf="tab === 'Common Amenities Update'">
                                            <div class="add_bldngs mt-4">
                                                <h5>{{'Common Amenities Update'}}</h5>

                                                <div class="table-responsive">

                                                    <table class="table table-striped" width="100%" cellspacing="0"
                                                        cellpadding="0" border="0">
                                                        <tbody>
                                                            <tr>
                                                                <th width="35%" valign="top" align="left">{{'Common Amenity'}}</th>
                                                                <th width="20%" valign="top" align="left">{{'Planned Completion MM-YYYY'}}</th>
                                                                <th width="7%" valign="top" align="left">{{'% of actual work done'}}</th>
                                                                <th width="30%" valign="top" align="left">{{'Delay if any Ask to fill reason for delay'}}</th>
                                                                <th width="8%" valign="top" align="left">{{'Completion (MM-YYYY)'}}</th>
                                                            </tr>
                                                            <tr *ngFor="let obj of commonAmenities;">
                                                                <td valign="top" align="left">{{obj.fielddisplaydesc}}
                                                                </td>
                                                                <td valign="top" align="left">{{obj.enddate}}</td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{obj.work_done ? obj.work_done : 'NA'}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            placeholder="80" [(ngModel)]="obj.work_done"
                                                                            [ngClass]="obj.perErr"
                                                                            (keydown)="onlyNumber($event)"
                                                                            (keyup)="validateWorkProgress(obj)">
                                                                    </div>
                                                                </td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{obj.delay_reason ? obj.delay_reason :
                                                                            'NA'}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <textarea class="form-control"
                                                                            placeholder="Enter Reason"
                                                                            [(ngModel)]="obj.delay_reason"
                                                                            [disabled]="obj.isDisable"
                                                                            [ngClass]="obj.resonErr"></textarea>
                                                                    </div>
                                                                </td>
                                                                <td valign="top" align="left">
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{obj.estimate_completion ?
                                                                            obj.estimate_completion : 'NA'}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted" [ngClass]="obj.cmpdErr">
                                                                        <app-calender
                                                                            [dateShow]="obj.estimate_completion"
                                                                            [isFormSubmitted]="obj.isDisable"
                                                                            (dateSelect)="onCustomDateSelect($event, obj)"></app-calender>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <button class="btn btn-primary" [hidden]="selectedTabIndex==0"
                                                    (click)="goToPrevTab()">
                                                    {{'Previous'}}
                                                </button>
                                                <button class="btn btn-success ml-3" *ngIf="isSubmitted"
                                                    (click)="goToNext()">Next</button>
                                            </div>
                                        </div>

                                        <!-- Photographs -->
                                        <div *ngIf="tab === 'Photographs'">
                                            <div class="add_bldngs mt-4">
                                                <h5> {{'Photographs'}}</h5>
                                                <!--                                    <div class="pr_note"><p><strong>{{'Note'}} : </strong>{{'Go to Mobile App and Login as Promoter to capture and upload images of the project'}}</p></div>-->
                                                <div class="radio_buildng">
                                                    <mat-radio-group [(ngModel)]="selectedBuildingForPhoto">
                                                        <mat-radio-button *ngFor="let building of buildingList;"
                                                            value="{{building.buildingName}}"
                                                            (change)="onBuildingChangeForPhoto(building)">{{building.buildingName}}</mat-radio-button>
                                                    </mat-radio-group>
                                                </div>
                                                <div class="photo-upload-container" *ngIf="!isSubmitted">
                                                    <div class="row">
                                                        <div class="col-2">
                                                            <div class="form-group">
                                                                <label>Particulars</label>
                                                                <select class="form-control" [(ngModel)]="particularId">
                                                                    <option value="">Select Particulars</option>
                                                                    <option *ngFor="let obj of photoParticulars;"
                                                                        [value]="obj.id">{{obj.name}}</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="col-3">
                                                            <div class="form-group">
                                                                <label>Upload Photograph</label>
                                                                <input type="file" class="form-control"
                                                                    id="buildingphotograph"
                                                                    accept="image/jpeg,image/png,application/pdf,image/x-eps">
                                                            </div>
                                                        </div>
                                                        <div class="col-3">
                                                            <label>&nbsp;</label>
                                                            <button class="btn btn-primary mt-3">Upload</button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="table-responsive">
                                                    <table class="table table-striped" width="100%" cellspacing="0"
                                                        cellpadding="0" border="0">
                                                        <tbody>
                                                            <tr>
                                                                <th valign="top" align="left">{{'SL No.'}}</th>
                                                                <th valign="top" align="left">{{'Particulars'}}</th>
                                                                <th valign="top" align="left">{{'Quarter'}} </th>
                                                                <th valign="top" align="left">{{'Photographs'}}</th>

                                                            </tr>
                                                            <tr
                                                                *ngFor="let obj of buildingPhotoList; let pind = index;">
                                                                <td>{{pind + 1}}</td>
                                                                <td>{{obj.particularName}}</td>
                                                                <td>{{quoterName}} </td>
                                                                <td>
                                                                    <a (click)="showImageFullScreen(obj.imageName)"><img
                                                                            [src]="FILE_ROOT + obj.imageName" alt=""
                                                                            style="height: 40px;"></a>
                                                                </td>

                                                            </tr>
                                                            <tr *ngIf="buildingPhotoList.length === 0">
                                                                <td class="text-center" colspan="5">
                                                                    No data found.
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="text-right">
                                                    <button class="btn btn-primary" [hidden]="selectedTabIndex==0"
                                                        (click)="goToPrevTab()">
                                                        Previous
                                                    </button>
                                                    <button class="btn btn-success ml-3"
                                                        (click)="goToNext()">Next</button>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Financial Update -->
                                        <div *ngIf="tab === 'Financial Update'">
                                            <div class="add_bldngs mt-4">
                                                <div class="table-responsive">
                                                    <h5> {{'Financial Progress of the Project'}}</h5>
                                                    <table class="table table-striped" width="100%" cellspacing="0"
                                                        cellpadding="0" border="0">
                                                        <tbody>
                                                            <tr>
                                                                <th width="5%" valign="top" align="left">{{'SL No.'}}
                                                                </th>
                                                                <th width="35%" valign="top" align="left">
                                                                    {{'Particulars'}}</th>
                                                                <th width="8%" valign="top" align="left">{{'Amount (Rs. in Lakh)'}}</th>
                                                            </tr>
                                                            <tr>
                                                                <td>1</td>
                                                                <td>{{'Project Account No.'}}</td>
                                                                <td>{{financialDetails.projectaccountno}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td>2</td>
                                                                <td>{{'Estimated Cost of the Project including land cost at the start of the Quarter'}}
                                                                </td>
                                                                <td>
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{financialDetails.estimatedcost}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            placeholder="Enter Amount"
                                                                            [(ngModel)]="financialDetails.estimatedcost">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>3</td>
                                                                <td>{{'Amount received during the Quarter'}}</td>
                                                                <td>
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{financialDetails.amtrecquoter}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            placeholder="Enter Amount"
                                                                            [(ngModel)]="financialDetails.amtrecquoter">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>4</td>
                                                                <td>{{'Actual Cost Incurred during the Quarter'}}</td>
                                                                <td>
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{financialDetails.actiualcost}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            placeholder="Enter Amount"
                                                                            [(ngModel)]="financialDetails.actiualcost">
                                                                    </div>

                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>5</td>
                                                                <td>{{'Net amount at end of the Quarter'}}</td>
                                                                <td>
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{financialDetails.netamount}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            placeholder="Enter Amount"
                                                                            [(ngModel)]="financialDetails.netamount">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>6</td>
                                                                <td>{{'Total expenditure on Project till date'}}</td>
                                                                <td>
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{financialDetails.totalexpenditure}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            placeholder="Enter Amount"
                                                                            [(ngModel)]="financialDetails.totalexpenditure">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>7</td>
                                                                <td>{{'Details of Mortgage or Charge, if any, created on the Land and the projects'}}
                                                                </td>
                                                                <td>
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{financialDetails.mortgagecharge}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            placeholder="Enter Amount"
                                                                            [(ngModel)]="financialDetails.mortgagecharge">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="text-right">
                                                    <button class="btn btn-primary" [hidden]="selectedTabIndex==0"
                                                        (click)="goToPrevTab()">
                                                        {{'Previous'}}
                                                    </button>
                                                    <button class="btn btn-success ml-3" *ngIf="isSubmitted"
                                                        (click)="goToNext()">Next</button>
                                                </div>
                                            </div>

                                        </div>


                                        <!-- Legal & Miscellaneous -->
                                        <div *ngIf="tab === 'Legal & Miscellaneous'">
                                            <div class="add_bldngs mt-4">
                                                <div class="table-responsive">
                                                    <h5>{{'A. List of Legal Cases (if any)'}} </h5>
                                                    <table class="table table-striped" width="100%" cellspacing="0"
                                                        cellpadding="0" border="0">
                                                        <thead>
                                                            <tr>
                                                                <th width="10%" valign="top" align="left">{{'SL No.'}}
                                                                </th>
                                                                <th width="35%" valign="top" align="left">{{'Case No.'}}
                                                                </th>
                                                                <th width="35%" valign="top" align="left">{{'Name of Parties'}}</th>
                                                                <th valign="top" align="left">&nbsp;</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr *ngFor="let val of legalCase;let i = index;">
                                                                <td>{{i+1}}</td>
                                                                <td>
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{val.caseno}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            placeholder="Enter No."
                                                                            [(ngModel)]="val.caseno">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div *ngIf="isSubmitted">
                                                                        <p class="viewmode-txt">
                                                                            {{val.partyname}}
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="!isSubmitted">
                                                                        <input type="text" class="form-control"
                                                                            placeholder="Enter Name"
                                                                            [(ngModel)]="val.partyname">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button class="btn btn-danger"
                                                                        *ngIf="legalCase.length > 1 && !isSubmitted"
                                                                        (click)="removeItem(i)">
                                                                        <i class="fa fa-minus" aria-hidden="true"></i>
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>


                                                </div>
                                                <div class="addmr_bt text-right" *ngIf="!isSubmitted"><button
                                                        class="btn btn-dark" (click)="addMoreCases()">{{'Add More'}}</button></div>
                                                <p>&nbsp;</p>
                                                <div class="table-responsive">
                                                    <h5> B. {{'Sale/Agreement for Sale during the Quarter'}} </h5>
                                                    <table class="table table-striped" width="100%" cellspacing="0"
                                                        cellpadding="0" border="0">
                                                        <tbody>
                                                            <tr>
                                                                <th width="5%" valign="top" align="left">{{'SL No.'}}
                                                                </th>
                                                                <th width="30%" valign="top" align="left">
                                                                    {{'Particulars'}} </th>
                                                                <th width="11%" valign="top" align="left">&nbsp;</th>
                                                            </tr>
                                                            <tr>
                                                                <td>1</td>
                                                                <td>{{'Sale Deed'}} </td>
                                                                <td>
                                                                    <input type="text" (keydown)="onlyNumber($event)"
                                                                        [(ngModel)]="saledeed" class="form-control"
                                                                        *ngIf="!isSubmitted">
                                                                    <p class="viewmode-txt" *ngIf="isSubmitted">
                                                                        {{saledeed}}
                                                                        <!--<a (click)="openLink(saledeed)">
                                                <span *ngIf="!isSubmitted">{{saledeed}}</span>
                                            <img *ngIf="saledeed.indexOf('.pdf') == -1 && isSubmitted" [src]="FILE_ROOT + saledeed" [alt]="" #img
                                                 (error)="img.src='assets/images/image-ico.png'" style="height: 40px;"/>
                                            <img *ngIf="saledeed.indexOf('.pdf') > -1 && isSubmitted" [src]="'assets/images/pdf-ico.png'" [alt]="" style="height: 40px;"/>
                                            </a>-->
                                                                    </p>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>2</td>
                                                                <td>{{'Agreement for Sale'}} </td>
                                                                <td><input type="text" (keydown)="onlyNumber($event)"
                                                                        class="form-control" [(ngModel)]="saleagreement"
                                                                        *ngIf="!isSubmitted">
                                                                    <p class="viewmode-txt" *ngIf="isSubmitted">
                                                                        {{saleagreement}}
                                                                    </p>
                                                                </td>
                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="undrtakes">
                                                <h5>{{'Undertaking'}}</h5>
                                                <p><input type="checkbox" class="" [(ngModel)]="isAcceptDeclaration"
                                                        [disabled]="isSubmitted">&nbsp; {{'I/we solemnly affirm, declare and undertake that all the details stated above are true to the best of my/our knowledge and nothing material has been concealed here from. I am/we are executing this undertaking to attest to the truth of all the foregoing and to apprise the Authority of such facts as mentioned as well as for whatever other legal purposes this undertaking may serve.'}} </p>
                                                <div class="sign_dv">
                                                    <div>
                                                        <div *ngIf="isSubmitted">
                                                            <p class="viewmode-txt">
                                                                {{'Name'}}: {{submitPersonName}}
                                                            </p>
                                                        </div>
                                                        <div *ngIf="!isSubmitted">
                                                            <p>{{'Name'}} :

                                                                <input type="text" placeholder="Enter you name"
                                                                    [(ngModel)]="submitPersonName">
                                                            </p>
                                                        </div>
                                                        <!--                                            <p>Date : 17-10-2022</p>-->
                                                    </div>
                                                    <div class="prom_sign">
                                                        <img #img [src]="FILE_ROOT + signatureFile"
                                                            (error)="img.src='assets/images/signature-ico.png'"
                                                            style="height: 50px;width: 180px;border: 1px solid gray;">
                                                        <p>{{'Signature of Promoter'}}</p>
                                                        <input type="file" class="form-control"
                                                            style="margin-bottom: 0 !important;"
                                                            (change)="uploadFile($event, 'signature')"
                                                            *ngIf="!isSubmitted"
                                                            accept="image/jpeg,image/png,image/x-eps">
                                                        <span
                                                            style="font-size: 13px;color: red;margin-bottom: 25px;display: block;">{{'File size should be less than 2MB'}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <button class="btn btn-primary" [hidden]="selectedTabIndex==0"
                                                    (click)="goToPrevTab()">
                                                    {{'Previous'}}
                                                </button>

                                            </div>
                                        </div>
                                    </div>
                                </mat-tab>
                            </mat-tab-group>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
